{% load i18n %}
{% if occurrence_instances %}
    {% for instance in occurrence_instances %}
        <section class="w3-section">
            <header class="w3-margin-bottom">
                <h3 class="w3-large w3-margin-0">
                    <span class="fa-fw fa-solid fa-layer-group" aria-hidden="true"></span>
                    {% blocktrans trimmed with number=instance.display_number %}Instance {{ number }}{% endblocktrans %}
                </h3>
                {% if instance.url %}
                    <p class="w3-text-grey">
                        <a class="w3-text-theme" href="{{ instance.url }}">
                            {% blocktrans trimmed with number=instance.display_number %}View workflows for instance {{ number }}{% endblocktrans %}
                        </a>
                    </p>
                {% endif %}
            </header>
            {% blocktrans trimmed with number=instance.display_number asvar response_caption %}Responses for instance {{ number }}{% endblocktrans %}
            {% include "bones/partials/table.html" with table_headers=occurrence_response_headers table_rows=instance.response_rows table_caption=response_caption %}
            {% blocktrans trimmed with number=instance.display_number asvar workflow_caption %}Workflows for instance {{ number }}{% endblocktrans %}
            {% include "bones/partials/table.html" with table_headers=occurrence_workflow_headers table_rows=instance.workflow_rows table_caption=workflow_caption %}
        </section>
    {% endfor %}
{% else %}
    <section class="w3-section">
        <p class="w3-text-grey">{% trans "No related workflows or responses were recorded for this occurrence." %}</p>
    </section>
{% endif %}
